<div class="forgot-password-container">
	<div class="forgot-password-form">

		<!-- Input Step -->
		<div *ngIf="step() === 'input'">
			<!-- Header -->
			<div class="header">
				<h2>Reset Password</h2>
				<p>Enter your email address to receive reset instructions</p>
			</div>

			<!-- Success/Error Messages -->
			<div class="message-container">
				<div *ngIf="successMessage()" class="success-message">
					{{ successMessage() }}
				</div>
				<div *ngIf="errorMessage()" class="error-message">
					{{ errorMessage() }}
				</div>
			</div>

			<!-- Form -->
			<form (ngSubmit)="onSubmit()" #resetForm="ngForm">

				<div class="form-section">
					<div class="form-group">
						<label for="email">Email Address <span class="required">*</span></label>
						<input type="email" id="email" class="form-control" [value]="email()"
							(input)="updateEmail($event.target.value)" placeholder="Enter your email address"
							required />
					</div>
				</div>

				<div class="form-actions">
					<button type="button" class="btn btn-secondary" (click)="backToLogin()" [disabled]="isLoading()">
						Back to Login
					</button>
					<button type="submit" class="btn btn-primary" [disabled]="isLoading() || !email().trim()">
						<span *ngIf="isLoading()">Sending...</span>
						<span *ngIf="!isLoading()">Send Reset Instructions</span>
					</button>
				</div>
			</form>
		</div>

		<!-- Success Step -->
		<div *ngIf="step() === 'success'" class="success-step">
			<!-- Header -->
			<div class="header">
				<div class="success-icon">âœ“</div>
				<h2>Check Your Email</h2>
				<p>We've sent password reset instructions to your email address</p>
			</div>

			<!-- Success Message -->
			<div class="success-content">
				<p>{{ successMessage() }}</p>

				<div class="instructions">
					<h4>What's next?</h4>
					<ol>
						<li>Check your email inbox (and spam folder)</li>
						<li>Click the reset link in the email</li>
						<li>Create a new password</li>
						<li>Sign in with your new password</li>
					</ol>
				</div>
			</div>

			<div class="form-actions">
				<button type="button" class="btn btn-primary" (click)="backToLogin()">
					Back to Login
				</button>
			</div>
		</div>

	</div>
</div>